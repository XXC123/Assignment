<% provide(:title, "Edit  Course") %>
<% provide(:button_text, "Update Course") %>
<h1>Edit Course</h1>

<div class = "row">
    <div class = "col-md-6 col-md-offset-3">
    

<%= form_for(@course) do |f| %>
    <%= render "shared/error_messages", object: @course %>

    <%= f.label :Name %>
    <%= f.text_field :name, class: "form-control" %>

    <%= f.label :Prerequisite %>
    <%= f.text_field :prerequisite, class: "form-control" %>

    <%= f.label :Description %>
    <%= f.text_field :desc, class: "form-control" %>

    <%= f.label :Categories %>
    <% @categories.each do |item| %>
        <label class="checkbox inline">
            <input class="remember_me"
            <% if @category.include?(item.id.to_s) %>
                <%= "checked" %>
            <% end %>
            type="checkbox" name="<%= ("category[" + item.id.to_s) %>]" />
            <span><%= item.name %></span>
        </label>
    <% end %>

    <%= f.label :Locatoins %>
    <% @locations.each do |item| %>
        <label class="checkbox inline">
            <input class="remember_me" 
            <% if @location.include?(item.id.to_s) %>
                <%= "checked" %>
            <% end %>
            type="checkbox" name="<%= ("location[" + item.id.to_s) %>]" />
            <span><%= item.name %></span>
        </label>
    <% end %>
    
    <%= f.label :Picture %>
    <span class="picture">
        <%= f.file_field :img_name %>
    </span>
    <%= f.submit yield(:button_text), class: "btn btn-primary" %>
<% end %>

<script type="text/javascript">
    $('#course_picture').bind('change', function(){
        var size_in_megabytes = this.files[0].size/1024/1024;
        if (size_in_megabytes > 5) {
            alert("Maximum file size is 5MB. Please choose a smaller file.");
        }
    });
</script>



    </div>
</div>
